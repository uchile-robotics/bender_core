<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from bender_mask_head.urdf.xacro    | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="bender" xmlns:xacro="http://ros.org/wiki/xacro">
  <!-- Prefix for Bender links -->
  <!-- Parameters -->
  <!-- PI constant -->
  <!-- Dynamics -->
  <!-- Friccion -->
  <!-- Velocity -->
  <!-- Inertial cuboid element -->
  <!-- Same def that box primitive (center) -->
  <!-- Same def that box primitive -->
  <!-- Inertial sphere element -->
  <!-- Inertial cylinder element -->
  <!-- Axis along z (length) -->
  <!-- Inertial dummy element -->
  <!-- URDF Materials -->
  <material name="Grey1">
    <color rgba="0.1 0.1 0.1 1"/>
  </material>
  <material name="Grey2">
    <color rgba="0.2 0.2 0.2 1"/>
  </material>
  <material name="Grey3">
    <color rgba="0.3 0.3 0.3 1"/>
  </material>
  <material name="Body">
    <color rgba="0.85 0.85 0.85 1"/>
  </material>
  <material name="Head">
    <color rgba="0.75 0.75 0.75 1"/>
  </material>
  <!-- Gazebo macros -->
  <!-- ROS Control -->
  <!-- For Effort controllers -->
  <!-- For Position controllers -->
  <!-- No gravity links -->
  <!-- Normal links -->
  <!-- Wheel links -->
  <!-- Gripper links -->
  <!-- Depth camera plugin -->
  <!-- Base wheels plugin -->
  <!-- Laser sensor plugin -->
  <!-- Calibration parameters, used for arms in body.urdf.xacro -->
  <!-- Normally all in 0.0 -->
  <!-- Left Arm -->
  <!-- Joint offset parameters for l_arm_base -->
  <!-- Right Arm -->
  <!-- Joint offset parameters for r_arm_base -->
  <!-- Dynamixel parameters -->
  <!-- Max torque estimation -->
  <!-- Torque/voltage relation from dynamixel_driver (this relation only works for stall torque) -->
  <!-- Friction model from "Characterization and modeling of a Dynamixel servo" by Arno Mensin (model AX12, better than nothing) -->
  <!-- Damping N.m.s/rad -->
  <!-- Friccion N.m -->
  <!-- ******** Bender Parts ******** -->
  <!-- Bender Body -->
  <!-- Macro for wheels -->
  <joint name="front_right_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.122036661288 -0.156680893055 0.101"/>
    <parent link="bender/body"/>
    <child link="bender/front_right_wheel"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="bender/front_right_wheel">
    <inertial>
      <origin rpy="1.57079632679 0 0" xyz="0 -0.025 0"/>
      <inertia ixx="0.135416666667" ixy="0.0" ixz="0.0" iyy="0.135416666667" iyz="0.0" izz="0.25"/>
      <mass value="50.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/wheel.stl"/>
      </geometry>
      <material name="Grey3"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 -0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <transmission name="front_right_wheel_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="front_right_wheel_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="front_right_wheel_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="bender/front_right_wheel">
    <material>Gazebo/DarkGrey</material>
    <kp>1000000.0</kp>
    <!-- kp and kd for rubber -->
    <kd>100.0</kd>
    <mu1>0.8</mu1>
    <!-- was 10 -->
    <mu2>0.8</mu2>
    <!-- how to get these into <surface><friction><ode>... ?
          slip1 0.5 /slip1 
           slip2 0 /slip2 
        -->
    <fdir1>1 0 0</fdir1>
    <!-- is this correct? -->
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <joint name="rear_right_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.122036661288 -0.156680893055 0.101"/>
    <parent link="bender/body"/>
    <child link="bender/rear_right_wheel"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="bender/rear_right_wheel">
    <inertial>
      <origin rpy="1.57079632679 0 0" xyz="0 -0.025 0"/>
      <inertia ixx="0.135416666667" ixy="0.0" ixz="0.0" iyy="0.135416666667" iyz="0.0" izz="0.25"/>
      <mass value="50.0"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/wheel.stl"/>
      </geometry>
      <material name="Grey3"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 -0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <transmission name="rear_right_wheel_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rear_right_wheel_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rear_right_wheel_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="bender/rear_right_wheel">
    <material>Gazebo/DarkGrey</material>
    <kp>1000000.0</kp>
    <!-- kp and kd for rubber -->
    <kd>100.0</kd>
    <mu1>0.8</mu1>
    <!-- was 10 -->
    <mu2>0.8</mu2>
    <!-- how to get these into <surface><friction><ode>... ?
          slip1 0.5 /slip1 
           slip2 0 /slip2 
        -->
    <fdir1>1 0 0</fdir1>
    <!-- is this correct? -->
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <joint name="front_left_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="0.122036661288 0.156680893055 0.101"/>
    <parent link="bender/body"/>
    <child link="bender/front_left_wheel"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="bender/front_left_wheel">
    <inertial>
      <origin rpy="1.57079632679 0 0" xyz="0 0.025 0"/>
      <inertia ixx="0.135416666667" ixy="0.0" ixz="0.0" iyy="0.135416666667" iyz="0.0" izz="0.25"/>
      <mass value="50.0"/>
    </inertial>
    <visual>
      <origin rpy="3.14159265359 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/wheel.stl"/>
      </geometry>
      <material name="Grey3"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <transmission name="front_left_wheel_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="front_left_wheel_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="front_left_wheel_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="bender/front_left_wheel">
    <material>Gazebo/DarkGrey</material>
    <kp>1000000.0</kp>
    <!-- kp and kd for rubber -->
    <kd>100.0</kd>
    <mu1>0.8</mu1>
    <!-- was 10 -->
    <mu2>0.8</mu2>
    <!-- how to get these into <surface><friction><ode>... ?
          slip1 0.5 /slip1 
           slip2 0 /slip2 
        -->
    <fdir1>1 0 0</fdir1>
    <!-- is this correct? -->
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <joint name="rear_left_wheel_joint" type="continuous">
    <origin rpy="0 0 0" xyz="-0.122036661288 0.156680893055 0.101"/>
    <parent link="bender/body"/>
    <child link="bender/rear_left_wheel"/>
    <axis xyz="0 1 0"/>
  </joint>
  <link name="bender/rear_left_wheel">
    <inertial>
      <origin rpy="1.57079632679 0 0" xyz="0 0.025 0"/>
      <inertia ixx="0.135416666667" ixy="0.0" ixz="0.0" iyy="0.135416666667" iyz="0.0" izz="0.25"/>
      <mass value="50.0"/>
    </inertial>
    <visual>
      <origin rpy="3.14159265359 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/wheel.stl"/>
      </geometry>
      <material name="Grey3"/>
    </visual>
    <collision>
      <origin rpy="1.57079632679 0 0" xyz="0 0.025 0"/>
      <geometry>
        <cylinder length="0.05" radius="0.1"/>
      </geometry>
    </collision>
  </link>
  <transmission name="rear_left_wheel_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="rear_left_wheel_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="rear_left_wheel_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <gazebo reference="bender/rear_left_wheel">
    <material>Gazebo/DarkGrey</material>
    <kp>1000000.0</kp>
    <!-- kp and kd for rubber -->
    <kd>100.0</kd>
    <mu1>0.8</mu1>
    <!-- was 10 -->
    <mu2>0.8</mu2>
    <!-- how to get these into <surface><friction><ode>... ?
          slip1 0.5 /slip1 
           slip2 0 /slip2 
        -->
    <fdir1>1 0 0</fdir1>
    <!-- is this correct? -->
    <maxVel>1.0</maxVel>
    <minDepth>0.00</minDepth>
  </gazebo>
  <!-- Gazebo P3AT Controller and transmissions-->
  <gazebo>
    <plugin filename="libgazebo_ros_skid_steer_drive.so" name="skid_steer_drive_controller">
      <robotNamespace>bender/nav</robotNamespace>
      <updateRate>50.0</updateRate>
      <leftFrontJoint>front_left_wheel_joint</leftFrontJoint>
      <rightFrontJoint>front_right_wheel_joint</rightFrontJoint>
      <leftRearJoint>rear_left_wheel_joint</leftRearJoint>
      <rightRearJoint>rear_right_wheel_joint</rightRearJoint>
      <wheelSeparation>0.4</wheelSeparation>
      <wheelDiameter>0.215</wheelDiameter>
      <robotBaseFrame>bender/base_link</robotBaseFrame>
      <torque>200</torque>
      <MaxForce>5.0</MaxForce>
      <commandTopic>base/cmd_vel</commandTopic>
      <odometryTopic>odom</odometryTopic>
      <odometryFrame>bender/odom</odometryFrame>
      <broadcastTF>1</broadcastTF>
    </plugin>
  </gazebo>
  <!-- base_footprint and base_link -->
  <link name="bender/base_link"/>
  <link name="bender/base_footprint">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="base_fixed_jont" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="bender/base_footprint"/>
    <parent link="bender/base_link"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/body">
    <inertial>
      <origin rpy="0 0 0" xyz="0 0 0.1"/>
      <mass value="400.0"/>
      <inertia ixx="7.41666666667" ixy="0.0" ixz="0.0" iyy="2.41666666667" iyz="0.0" izz="5.66666666667"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/body.stl"/>
      </geometry>
      <material name="Body"/>
    </visual>
    <collision>
      <!--
        <origin
          xyz="0 0 0.7"
          rpy="0 0 0" />
        -->
      <geometry>
        <!-- <box size="0.2 0.4 1.25"/> -->
        <mesh filename="package://bender_description/meshes/collision/body.stl"/>
      </geometry>
    </collision>
  </link>
  <joint name="body_fixed_jont" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bender/base_link"/>
    <child link="bender/body"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/waist_base">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="waist_base_joint" type="fixed">
    <origin rpy="0 0.47 0" xyz="0.04 0 0.93"/>
    <!-- waist position -->
    <origin rpy="0 0.21 0" xyz="0 0 0.73"/>
    <parent link="bender/body"/>
    <child link="bender/waist_base"/>
    <axis xyz="0 1 0"/>
    <limit effort="10" lower="-1" upper="1" velocity="10"/>
  </joint>
  <link name="bender/chest_base">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="chest_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.08 0 0.92"/>
    <parent link="bender/body"/>
    <child link="bender/chest_base"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/neck_base">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="neck_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="-0.00974876592757595 0 1.3411"/>
    <parent link="bender/body"/>
    <child link="bender/neck_base"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/l_arm_base">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="l_arm_base_joint" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="-0.01941 0.238791 1.2466"/>
    <parent link="bender/body"/>
    <child link="bender/l_arm_base"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/r_arm_base">
    <inertial>
      <mass value="1e-5"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6"/>
    </inertial>
  </link>
  <joint name="r_arm_base_joint" type="fixed">
    <origin rpy="0.0 0.0 0.0" xyz="-0.01941 -0.238791 1.2466"/>
    <parent link="bender/body"/>
    <child link="bender/r_arm_base"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Gazebo Links material -->
  <gazebo reference="bender/base_footprint">
    <material>Gazebo/Black</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/base_link">
    <material>Gazebo/Black</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/chest_base">
    <material>Gazebo/Black</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/waist_base">
    <material>Gazebo/Black</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/body">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Bender mask head with Asus depth camera -->
  <!-- Torque -->
  <!-- Gazebo Links material -->
  <gazebo reference="bender/neck_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/face_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/head_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Transmissions -->
  <transmission name="head_yaw_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="head_yaw_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="head_yaw_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="head_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="head_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="head_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="bender/neck_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.027227 -1.1356E-07 0.017004"/>
      <mass value="0.092467"/>
      <inertia ixx="0.00013489" ixy="-3.52E-09" ixz="-6.6205E-07" iyy="7.5254E-05" iyz="1.356E-10" izz="0.00012174"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/neck_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.75294 0.75294 0.75294 1"/>
      </material>
    </visual>
  </link>
  <joint name="head_base_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bender/neck_base"/>
    <child link="bender/neck_link"/>
  </joint>
  <link name="bender/head_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.012141 -1.7505E-05 0.041401"/>
      <mass value="0.17983"/>
      <inertia ixx="0.00015925" ixy="4.0867E-07" ixz="-7.9102E-06" iyy="0.0001892" iyz="-6.1427E-08" izz="8.7881E-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/head_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.75294 0.75294 0.75294 1"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.07"/>
      <geometry>
        <box size="0.13 0.13 0.21"/>
      </geometry>
    </collision>
  </link>
  <joint name="head_yaw_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.027 0 0.0529"/>
    <parent link="bender/neck_link"/>
    <child link="bender/head_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="4.44054054054" lower="-1.8919" upper="1.8919" velocity="1.0"/>
    <dynamics damping="0.15"/>
  </joint>
  <link name="bender/face_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.046115 -0.026111 0.10189"/>
      <mass value="0.33187"/>
      <inertia ixx="0.0013461" ixy="-2.8029E-07" ixz="-9.224E-05" iyy="0.00080978" iyz="-6.6351E-07" izz="0.00074443"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/face_link.STL"/>
      </geometry>
      <material name="">
        <color rgba="0.75294 0.75294 0.75294 1"/>
      </material>
    </visual>
  </link>
  <joint name="head_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0.02598 0.0679"/>
    <parent link="bender/head_link"/>
    <child link="bender/face_link"/>
    <axis xyz="0 1 0"/>
    <limit effort="4.44054054054" lower="-0.39372" upper="0.88459" velocity="1.0"/>
    <dynamics damping="0.15"/>
  </joint>
  <!-- Camera RGB and depth frames -->
  <link name="bender/sensors/rgbd_head_rgb_frame"/>
  <joint name="rgbd_head_rgb_joint" type="fixed">
    <origin rpy="0 0.031904 0" xyz="0.05332 -0.0042 0.14105"/>
    <parent link="bender/face_link"/>
    <child link="bender/sensors/rgbd_head_rgb_frame"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/sensors/rgbd_head_depth_frame"/>
  <joint name="rgbd_head_depth_joint" type="fixed">
    <origin rpy="0 0.031904 0" xyz="0.05332 0.0208 0.14105"/>
    <parent link="bender/face_link"/>
    <child link="bender/sensors/rgbd_head_depth_frame"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Optical frames -->
  <joint name="rgbd_head_rgb_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="bender/sensors/rgbd_head_rgb_frame"/>
    <child link="bender/sensors/rgbd_head_rgb_optical_frame"/>
  </joint>
  <link name="bender/sensors/rgbd_head_rgb_optical_frame"/>
  <joint name="rgbd_head_depth_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="bender/sensors/rgbd_head_depth_frame"/>
    <child link="bender/sensors/rgbd_head_depth_optical_frame"/>
  </joint>
  <link name="bender/sensors/rgbd_head_depth_optical_frame"/>
  <!-- Camera depth Gazebo -->
  <gazebo reference="bender/sensors/rgbd_head_depth_frame">
    <sensor name="rgbd_head" type="depth">
      <always_on>true</always_on>
      <update_rate>5.0</update_rate>
      <camera>
        <horizontal_fov>0.994837673637</horizontal_fov>
        <image>
          <format>B8G8R8</format>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.01</near>
          <far>5</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="rgbd_head_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>5.0</updateRate>
        <cameraName>rgbd_head</cameraName>
        <imageTopicName>/bender/sensors/rgbd_head/rgb/image_raw</imageTopicName>
        <cameraInfoTopicName>/bender/sensors/rgbd_head/rgb/camera_info</cameraInfoTopicName>
        <depthImageTopicName>/bender/sensors/rgbd_head/depth/image_raw</depthImageTopicName>
        <depthImageCameraInfoTopicName>/bender/sensors/rgbd_head/depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudTopicName>/bender/sensors/rgbd_head/depth/points</pointCloudTopicName>
        <frameName>bender/sensors/rgbd_head_depth_optical_frame</frameName>
        <baseline>0.1</baseline>
        <distortion_k1>0.0</distortion_k1>
        <distortion_k2>0.0</distortion_k2>
        <distortion_k3>0.0</distortion_k3>
        <distortion_t1>0.0</distortion_t1>
        <distortion_t2>0.0</distortion_t2>
        <pointCloudCutoff>0.35</pointCloudCutoff>
        <pointCloudCutoffMax>2.0</pointCloudCutoffMax>
      </plugin>
    </sensor>
  </gazebo>
  <!-- Bender Arm macro -->
  <!-- Gripper type -->
  <!-- Gripper interior, type 1 - 2 finger, type 0 - 1 finger -->
  <!-- Gripper exterior, type 1 - 2 finger, type 0 - 1 finger -->
  <!-- Soft margin 5 deg -->
  <!-- Generado con script desde configuracion de motores Dynamixel -->
  <!-- Links mass -->
  <!-- Torque -->
  <!-- Left Arm -->
  <!-- Gazebo elements -->
  <!-- Gazebo Links material -->
  <gazebo reference="bender/l_shoulder_pitch_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/l_shoulder_roll_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/l_shoulder_yaw_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/l_elbow_pitch_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/l_elbow_yaw_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/l_wrist_pitch_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Transmissions -->
  <transmission name="l_shoulder_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_shoulder_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_shoulder_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="l_shoulder_roll_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_shoulder_roll_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_shoulder_roll_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="l_shoulder_yaw_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_shoulder_yaw_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_shoulder_yaw_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="l_elbow_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_elbow_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_elbow_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="l_elbow_yaw_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_elbow_yaw_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_elbow_yaw_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="l_wrist_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_wrist_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_wrist_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="bender/l_shoulder_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0003 0.02375 -0.0137"/>
      <mass value="0.23799"/>
      <inertia ixx="0.0001943585" ixy="0.0" ixz="0.0" iyy="0.0001467605" iyz="0.0" izz="0.0001467605"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/l_shoulder_pitch.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0.02 0"/>
      <geometry>
        <box size="0.05 0.07 0.07"/>
      </geometry>
    </collision>
  </link>
  <joint name="l_shoulder_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bender/l_arm_base"/>
    <child link="bender/l_shoulder_pitch_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="10.85" lower="-1.53397" upper="1.94815" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.6212364626" soft_upper_limit="2.0354164626"/>
  </joint>
  <link name="bender/l_shoulder_roll_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.04628 -1e-05 -0.11824"/>
      <mass value="0.2845"/>
      <inertia ixx="0.000797192708333" ixy="0.0" ixz="0.0" iyy="0.000827420833333" iyz="0.0" izz="8.83135416667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/shoulder_roll.stl"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 -0.25 0" xyz="0.04 0 -0.075"/>
      <geometry>
        <box size="0.05 0.035 0.18"/>
      </geometry>
    </collision>
  </link>
  <joint name="l_shoulder_roll_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.02178 0.0339 -0.03"/>
    <parent link="bender/l_shoulder_pitch_link"/>
    <child link="bender/l_shoulder_roll_link"/>
    <axis xyz="1.0 0 0"/>
    <limit effort="10.85" lower="-0.23776" upper="1.51096" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-0.3250264626" soft_upper_limit="1.5982264626"/>
  </joint>
  <link name="bender/l_shoulder_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.01725 -0.0002 -0.15164"/>
      <mass value="0.26197"/>
      <inertia ixx="0.00118159385417" ixy="0.0" ixz="0.0" iyy="0.00120942816667" iyz="0.0" izz="8.13198541667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/shoulder_yaw.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.015 0 -0.115"/>
      <geometry>
        <box size="0.05 0.035 0.23"/>
      </geometry>
    </collision>
  </link>
  <joint name="l_shoulder_yaw_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.03218 0 -0.1366"/>
    <parent link="bender/l_shoulder_roll_link"/>
    <child link="bender/l_shoulder_yaw_link"/>
    <axis xyz="0 0 -1"/>
    <limit effort="4.44054054054" lower="-1.48284" upper="1.38057" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.5701064626" soft_upper_limit="1.4678364626"/>
  </joint>
  <link name="bender/l_elbow_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00717 -0.02186 -0.06081"/>
      <mass value="0.24592"/>
      <inertia ixx="0.000305350666667" ixy="0.0" ixz="0.0" iyy="0.000256166666667" iyz="0.0" izz="0.000151650666667"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/elbow_pitch.stl"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.015 -0.025 -0.05"/>
      <geometry>
        <box size="0.05 0.07 0.10"/>
      </geometry>
    </collision>
  </link>
  <joint name="l_elbow_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.015898 0.02178 -0.21"/>
    <parent link="bender/l_shoulder_yaw_link"/>
    <child link="bender/l_elbow_pitch_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="10.85" lower="-1.03543" upper="1.86378" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.1226964626" soft_upper_limit="1.9510464626"/>
  </joint>
  <link name="bender/l_elbow_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.01908 3e-05 -0.15208"/>
      <mass value="0.1996"/>
      <inertia ixx="0.00172362916667" ixy="0.0" ixz="0.0" iyy="0.00174483666667" iyz="0.0" izz="6.19591666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/elbow_yaw.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.015 0 -0.12"/>
      <geometry>
        <box size="0.05 0.035 0.32"/>
      </geometry>
    </collision>
  </link>
  <joint name="l_elbow_yaw_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.0136 -0.02228 -0.09218"/>
    <parent link="bender/l_elbow_pitch_link"/>
    <child link="bender/l_elbow_yaw_link"/>
    <axis xyz="0 0 -1"/>
    <limit effort="4.44054054054" lower="-1.20161" upper="1.30387" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.2888764626" soft_upper_limit="1.3911364626"/>
  </joint>
  <link name="bender/l_wrist_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-3e-05 -0.01324 -0.11135"/>
      <mass value="0.49201"/>
      <inertia ixx="0.000463309416667" ixy="0.0" ixz="0.0" iyy="0.000266505416667" iyz="0.0" izz="0.000328006666667"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/wrist_pitch.stl"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.02 -0.05"/>
      <geometry>
        <box size="0.04 0.08 0.07"/>
      </geometry>
    </collision>
  </link>
  <joint name="l_wrist_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.018221 0.0171 -0.26272"/>
    <parent link="bender/l_elbow_yaw_link"/>
    <child link="bender/l_wrist_pitch_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="3.1" lower="-1.07378" upper="1.22717" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.1610464626" soft_upper_limit="1.3144364626"/>
  </joint>
  <!-- Gripper Joints -->
  <!-- Transmission -->
  <transmission name="l_int_finger_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_int_finger_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_int_finger_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="l_ext_finger_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="l_ext_finger_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="l_ext_finger_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="bender/l_base_int_finger_link"/>
  <joint name="l_int_finger_joint" type="revolute">
    <origin rpy="-0.523598775598 0 0" xyz="0.01775 -0.03555 -0.0794"/>
    <parent link="bender/l_wrist_pitch_link"/>
    <child link="bender/l_base_int_finger_link"/>
    <axis xyz="-1 0 0"/>
    <limit effort="3.1" lower="-0.02556" upper="0.69029" velocity="10"/>
    <dynamics damping="0.2" friction="1.0"/>
  </joint>
  <link name="bender/l_base_ext_finger_link"/>
  <joint name="l_ext_finger_joint" type="revolute">
    <origin rpy="0.523598775598 0 0" xyz="0.01775 0.00085 -0.0794"/>
    <parent link="bender/l_wrist_pitch_link"/>
    <child link="bender/l_base_ext_finger_link"/>
    <axis xyz="1.0 0 0"/>
    <limit effort="3.1" lower="-0.02556" upper="0.69029" velocity="10"/>
    <dynamics damping="0.2" friction="1.0"/>
  </joint>
  <!-- Right Arm -->
  <!-- Gazebo elements -->
  <!-- Gazebo Links material -->
  <gazebo reference="bender/r_shoulder_pitch_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/r_shoulder_roll_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/r_shoulder_yaw_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/r_elbow_pitch_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/r_elbow_yaw_link">
    <material>Gazebo/DarkGrey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <gazebo reference="bender/r_wrist_pitch_link">
    <material>Gazebo/Grey</material>
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
  </gazebo>
  <!-- Transmissions -->
  <transmission name="r_shoulder_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_shoulder_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_shoulder_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="r_shoulder_roll_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_shoulder_roll_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_shoulder_roll_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="r_shoulder_yaw_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_shoulder_yaw_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_shoulder_yaw_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="r_elbow_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_elbow_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_elbow_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="r_elbow_yaw_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_elbow_yaw_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_elbow_yaw_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="r_wrist_pitch_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_wrist_pitch_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_wrist_pitch_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="bender/r_shoulder_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.0003 -0.02375 -0.0137"/>
      <mass value="0.23799"/>
      <inertia ixx="0.0001943585" ixy="0.0" ixz="0.0" iyy="0.0001467605" iyz="0.0" izz="0.0001467605"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/r_shoulder_pitch.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.02 0"/>
      <geometry>
        <box size="0.05 0.07 0.07"/>
      </geometry>
    </collision>
  </link>
  <joint name="r_shoulder_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bender/r_arm_base"/>
    <child link="bender/r_shoulder_pitch_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="10.85" lower="-1.53397" upper="1.94815" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.6212364626" soft_upper_limit="2.0354164626"/>
  </joint>
  <link name="bender/r_shoulder_roll_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.04628 -1e-05 -0.11824"/>
      <mass value="0.2845"/>
      <inertia ixx="0.000797192708333" ixy="0.0" ixz="0.0" iyy="0.000827420833333" iyz="0.0" izz="8.83135416667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/shoulder_roll.stl"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 -0.25 0" xyz="0.04 0 -0.075"/>
      <geometry>
        <box size="0.05 0.035 0.18"/>
      </geometry>
    </collision>
  </link>
  <joint name="r_shoulder_roll_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.02178 -0.0339 -0.03"/>
    <parent link="bender/r_shoulder_pitch_link"/>
    <child link="bender/r_shoulder_roll_link"/>
    <axis xyz="-1.0 0 0"/>
    <limit effort="10.85" lower="-0.23776" upper="1.51096" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-0.3250264626" soft_upper_limit="1.5982264626"/>
  </joint>
  <link name="bender/r_shoulder_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.01725 -0.0002 -0.15164"/>
      <mass value="0.26197"/>
      <inertia ixx="0.00118159385417" ixy="0.0" ixz="0.0" iyy="0.00120942816667" iyz="0.0" izz="8.13198541667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/shoulder_yaw.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.015 0 -0.115"/>
      <geometry>
        <box size="0.05 0.035 0.23"/>
      </geometry>
    </collision>
  </link>
  <joint name="r_shoulder_yaw_joint" type="revolute">
    <origin rpy="0 0 0" xyz="0.03218 0 -0.1366"/>
    <parent link="bender/r_shoulder_roll_link"/>
    <child link="bender/r_shoulder_yaw_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="4.44054054054" lower="-1.48284" upper="1.38057" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.5701064626" soft_upper_limit="1.4678364626"/>
  </joint>
  <link name="bender/r_elbow_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="0.00717 -0.02186 -0.06081"/>
      <mass value="0.24592"/>
      <inertia ixx="0.000305350666667" ixy="0.0" ixz="0.0" iyy="0.000256166666667" iyz="0.0" izz="0.000151650666667"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/elbow_pitch.stl"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.015 -0.025 -0.05"/>
      <geometry>
        <box size="0.05 0.07 0.10"/>
      </geometry>
    </collision>
  </link>
  <joint name="r_elbow_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.015898 0.02178 -0.21"/>
    <parent link="bender/r_shoulder_yaw_link"/>
    <child link="bender/r_elbow_pitch_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="10.85" lower="-1.03543" upper="1.86378" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.1226964626" soft_upper_limit="1.9510464626"/>
  </joint>
  <link name="bender/r_elbow_yaw_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.01908 3e-05 -0.15208"/>
      <mass value="0.1996"/>
      <inertia ixx="0.00172362916667" ixy="0.0" ixz="0.0" iyy="0.00174483666667" iyz="0.0" izz="6.19591666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/elbow_yaw.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.015 0 -0.12"/>
      <geometry>
        <box size="0.05 0.035 0.32"/>
      </geometry>
    </collision>
  </link>
  <joint name="r_elbow_yaw_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.0136 -0.02228 -0.09218"/>
    <parent link="bender/r_elbow_pitch_link"/>
    <child link="bender/r_elbow_yaw_link"/>
    <axis xyz="0 0 1"/>
    <limit effort="4.44054054054" lower="-1.20161" upper="1.30387" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.2888764626" soft_upper_limit="1.3911364626"/>
  </joint>
  <link name="bender/r_wrist_pitch_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-3e-05 -0.01324 -0.11135"/>
      <mass value="0.49201"/>
      <inertia ixx="0.000463309416667" ixy="0.0" ixz="0.0" iyy="0.000266505416667" iyz="0.0" izz="0.000328006666667"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/wrist_pitch.stl"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 -0.02 -0.05"/>
      <geometry>
        <box size="0.04 0.08 0.07"/>
      </geometry>
    </collision>
  </link>
  <joint name="r_wrist_pitch_joint" type="revolute">
    <origin rpy="0 0 0" xyz="-0.018221 0.0171 -0.26272"/>
    <parent link="bender/r_elbow_yaw_link"/>
    <child link="bender/r_wrist_pitch_link"/>
    <axis xyz="0 -1 0"/>
    <limit effort="3.1" lower="-1.07378" upper="1.22717" velocity="5.23598775598"/>
    <dynamics damping="0.15" friction="0.3"/>
    <safety_controller k_position="30" k_velocity="30" soft_lower_limit="-1.1610464626" soft_upper_limit="1.3144364626"/>
  </joint>
  <!-- Gripper Joints -->
  <!-- Transmission -->
  <transmission name="r_int_finger_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_int_finger_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_int_finger_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <transmission name="r_ext_finger_joint_transmission">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="r_ext_finger_joint">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="r_ext_finger_joint_motor">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  <link name="bender/r_base_int_finger_link"/>
  <joint name="r_int_finger_joint" type="revolute">
    <origin rpy="0.523598775598 0 0" xyz="0.01775 0.00085 -0.0794"/>
    <parent link="bender/r_wrist_pitch_link"/>
    <child link="bender/r_base_int_finger_link"/>
    <axis xyz="1 0 0"/>
    <limit effort="3.1" lower="-0.02556" upper="0.69029" velocity="10"/>
    <dynamics damping="0.2" friction="1.0"/>
  </joint>
  <link name="bender/r_base_ext_finger_link"/>
  <joint name="r_ext_finger_joint" type="revolute">
    <origin rpy="-0.523598775598 0 0" xyz="0.01775 -0.03555 -0.0794"/>
    <parent link="bender/r_wrist_pitch_link"/>
    <child link="bender/r_base_ext_finger_link"/>
    <axis xyz="-1.0 0 0"/>
    <limit effort="3.1" lower="-0.02556" upper="0.69029" velocity="10"/>
    <dynamics damping="0.2" friction="1.0"/>
  </joint>
  <!-- Grippers -->
  <link name="bender/r_int_finger_link">
    <inertial>
      <origin rpy="-0.523598775598 0 0" xyz="-0.018 -0.03 -0.07"/>
      <mass value="0.16"/>
      <inertia ixx="0.000357666666667" ixy="0.0" ixz="0.0" iyy="0.000374666666667" iyz="0.0" izz="4.96666666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/one_finger.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.011"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/collision/finger.stl" scale="0.35 1.0 1.0"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="bender/r_int_finger_link">
    <material>Gazebo/DarkGrey</material>
    <minDepth>0.005</minDepth>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="r_int_finger_fixed_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bender/r_base_int_finger_link"/>
    <child link="bender/r_int_finger_link"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/r_ext_finger_link">
    <inertial>
      <origin rpy="-0.523598775598 0 0" xyz="-0.018 -0.03 -0.07"/>
      <mass value="0.16"/>
      <inertia ixx="0.000357666666667" ixy="0.0" ixz="0.0" iyy="0.000374666666667" iyz="0.0" izz="4.96666666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/one_finger.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0.011"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/collision/finger.stl" scale="0.35 1.0 1.0"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="bender/r_ext_finger_link">
    <material>Gazebo/DarkGrey</material>
    <minDepth>0.005</minDepth>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="r_ext_finger_fixed_joint" type="fixed">
    <origin rpy="0 0 -3.14159265359" xyz="-0.035 0 0"/>
    <parent link="bender/r_base_ext_finger_link"/>
    <child link="bender/r_ext_finger_link"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/l_int_finger_link">
    <inertial>
      <origin rpy="-0.523598775598 0 0" xyz="-0.018 -0.03 -0.07"/>
      <mass value="0.16"/>
      <inertia ixx="0.000357666666667" ixy="0.0" ixz="0.0" iyy="0.000374666666667" iyz="0.0" izz="4.96666666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/two_finger.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0275 0 0.011"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/collision/finger.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="bender/l_int_finger_link">
    <material>Gazebo/DarkGrey</material>
    <minDepth>0.005</minDepth>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="l_int_finger_fixed_joint" type="fixed">
    <origin rpy="0 0 -3.14159265359" xyz="-0.035 0 0"/>
    <parent link="bender/l_base_int_finger_link"/>
    <child link="bender/l_int_finger_link"/>
    <axis xyz="0 0 0"/>
  </joint>
  <link name="bender/l_ext_finger_link">
    <inertial>
      <origin rpy="-0.523598775598 0 0" xyz="-0.018 -0.03 -0.07"/>
      <mass value="0.16"/>
      <inertia ixx="0.000357666666667" ixy="0.0" ixz="0.0" iyy="0.000374666666667" iyz="0.0" izz="4.96666666667e-05"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/visual/two_finger.stl"/>
      </geometry>
      <material name="Grey1"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0275 0 0.011"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/collision/finger.stl"/>
      </geometry>
    </collision>
  </link>
  <gazebo reference="bender/l_ext_finger_link">
    <material>Gazebo/DarkGrey</material>
    <minDepth>0.005</minDepth>
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>1.0</kd>
  </gazebo>
  <joint name="l_ext_finger_fixed_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <parent link="bender/l_base_ext_finger_link"/>
    <child link="bender/l_ext_finger_link"/>
    <axis xyz="0 0 0"/>
  </joint>
  <!-- Sensors -->
  <!-- Asus depth camera waist -->
  <!-- Xacro properties -->
  <joint name="rgbd_waist_camera_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0.1 0 0.04"/>
    <parent link="bender/waist_base"/>
    <child link="bender/sensors/rgbd_waist_link"/>
  </joint>
  <link name="bender/sensors/rgbd_waist_link">
    <visual>
      <origin rpy="-1.57079632679 -3.14159265359 -1.57079632679" xyz="-0.01 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/sensors/asus_xtion_pro_live.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="Grey2"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <geometry>
        <box size="0.05 0.20 0.05"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.170"/>
      <origin rpy="0 0 0" xyz="0.0 0.0 0.0"/>
      <inertia ixx="0.000602083333333" ixy="0.0" ixz="0.0" iyy="7.08333333333e-05" iyz="0.0" izz="0.000602083333333"/>
    </inertial>
  </link>
  <joint name="rgbd_waist_camera_rgb_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.022 0"/>
    <parent link="bender/sensors/rgbd_waist_link"/>
    <child link="bender/sensors/rgbd_waist_rgb_frame"/>
  </joint>
  <link name="bender/sensors/rgbd_waist_rgb_frame"/>
  <joint name="rgbd_waist_camera_rgb_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="bender/sensors/rgbd_waist_rgb_frame"/>
    <child link="bender/sensors/rgbd_waist_rgb_optical_frame"/>
  </joint>
  <link name="bender/sensors/rgbd_waist_rgb_optical_frame"/>
  <joint name="rgbd_waist_camera_depth_joint" type="fixed">
    <origin rpy="0 0 0" xyz="0 0.027 0"/>
    <parent link="bender/sensors/rgbd_waist_rgb_frame"/>
    <child link="bender/sensors/rgbd_waist_depth_frame"/>
  </joint>
  <link name="bender/sensors/rgbd_waist_depth_frame"/>
  <joint name="rgbd_waist_camera_depth_optical_joint" type="fixed">
    <origin rpy="-1.57079632679 0 -1.57079632679" xyz="0 0 0"/>
    <parent link="bender/sensors/rgbd_waist_depth_frame"/>
    <child link="bender/sensors/rgbd_waist_depth_optical_frame"/>
  </joint>
  <link name="bender/sensors/rgbd_waist_depth_optical_frame"/>
  <!-- Camera depth Gazebo -->
  <gazebo reference="bender/sensors/rgbd_waist_depth_frame">
    <sensor name="rgbd_waist" type="depth">
      <always_on>true</always_on>
      <update_rate>5.0</update_rate>
      <camera>
        <horizontal_fov>0.994837673637</horizontal_fov>
        <image>
          <format>B8G8R8</format>
          <width>640</width>
          <height>480</height>
        </image>
        <clip>
          <near>0.01</near>
          <far>5</far>
        </clip>
      </camera>
      <plugin filename="libgazebo_ros_openni_kinect.so" name="rgbd_waist_controller">
        <alwaysOn>true</alwaysOn>
        <updateRate>5.0</updateRate>
        <cameraName>rgbd_waist</cameraName>
        <imageTopicName>/bender/sensors/rgbd_waist/rgb/image_raw</imageTopicName>
        <cameraInfoTopicName>/bender/sensors/rgbd_waist/rgb/camera_info</cameraInfoTopicName>
        <depthImageTopicName>/bender/sensors/rgbd_waist/depth/image_raw</depthImageTopicName>
        <depthImageCameraInfoTopicName>/bender/sensors/rgbd_waist/depth/camera_info</depthImageCameraInfoTopicName>
        <pointCloudTopicName>/bender/sensors/rgbd_waist/depth/points</pointCloudTopicName>
        <frameName>bender/sensors/rgbd_waist_depth_optical_frame</frameName>
        <baseline>0.1</baseline>
        <distortion_k1>0.0</distortion_k1>
        <distortion_k2>0.0</distortion_k2>
        <distortion_k3>0.0</distortion_k3>
        <distortion_t1>0.0</distortion_t1>
        <distortion_t2>0.0</distortion_t2>
        <pointCloudCutoff>0.35</pointCloudCutoff>
        <pointCloudCutoffMax>2.0</pointCloudCutoffMax>
      </plugin>
    </sensor>
  </gazebo>
  <!-- Hokuyo sensors -->
  <joint name="laser_front_joint" type="fixed">
    <axis xyz="0 1 0"/>
    <origin rpy="0.0 0.0 0.0" xyz="0.22 0.0 0.33"/>
    <parent link="bender/body"/>
    <child link="bender/sensors/laser_front_link"/>
  </joint>
  <!-- Hokuyo Laser -->
  <link name="bender/sensors/laser_front_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/sensors/hokuyo.dae"/>
      </geometry>
    </visual>
    <inertia ixx="0.000125" ixy="0.0" ixz="0.0" iyy="0.000125" iyz="0.0" izz="0.000125"/>
  </link>
  <!-- Gazebo Sim -->
  <gazebo reference="bender/sensors/laser_front_link">
    <sensor name="laser_front" type="ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-1.570796</min_angle>
            <max_angle>1.570796</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.10</min>
          <max>6.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_laser_front_hokuyo_controller">
        <topicName>bender/sensors/laser_front/scan</topicName>
        <frameName>bender/sensors/laser_front_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <joint name="laser_rear_joint" type="fixed">
    <axis xyz="0 1 0"/>
    <origin rpy="0.0 3.14159265359 0.0" xyz="-0.22 0.0 0.09"/>
    <parent link="bender/body"/>
    <child link="bender/sensors/laser_rear_link"/>
  </joint>
  <!-- Hokuyo Laser -->
  <link name="bender/sensors/laser_rear_link">
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
    </collision>
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="package://bender_description/meshes/sensors/hokuyo.dae"/>
      </geometry>
    </visual>
    <inertia ixx="0.000125" ixy="0.0" ixz="0.0" iyy="0.000125" iyz="0.0" izz="0.000125"/>
  </link>
  <!-- Gazebo Sim -->
  <gazebo reference="bender/sensors/laser_rear_link">
    <sensor name="laser_rear" type="ray">
      <pose>0 0 0 0 0 0</pose>
      <visualize>false</visualize>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-1.570796</min_angle>
            <max_angle>1.570796</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.10</min>
          <max>6.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin filename="libgazebo_ros_laser.so" name="gazebo_ros_laser_rear_hokuyo_controller">
        <topicName>bender/sensors/laser_rear/scan</topicName>
        <frameName>bender/sensors/laser_rear_link</frameName>
      </plugin>
    </sensor>
  </gazebo>
  <!-- ROS Controllers -->
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="ros_control">
      <robotNamespace>bender/</robotNamespace>
    </plugin>
  </gazebo>
</robot>

